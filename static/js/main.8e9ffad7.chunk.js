(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(3),c=t.n(r),i=(t(9),t(1)),m=l.a.createContext(),o=m.Provider,s="aa2da183bb2a58d3e15fa861c16831ac",d=function(e){var a=e.children,t=Object(n.useState)(""),r=Object(i.a)(t,2),c=r[0],m=r[1],d=Object(n.useState)(""),u=Object(i.a)(d,2),h=u[0],p=u[1],E=Object(n.useState)(""),w=Object(i.a)(E,2),y=w[0],g=w[1],f=Object(n.useState)(!0),N=Object(i.a)(f,2),b=N[0],v=N[1],D=Object(n.useState)({lat:"",lon:""}),x=Object(i.a)(D,2),k=x[0],j=x[1],M=Object(n.useState)(""),O=Object(i.a)(M,2),_=O[0],C=O[1],S=Object(n.useState)({}),B=Object(i.a)(S,2),R=B[0],I=B[1],T="https://api.openweathermap.org/data/2.5/weather?q="+c+"&appid="+s,W="https://api.openweathermap.org/data/2.5/onecall?lat="+k.lat+"&lon="+k.lon+"&units=metric&exclude=minutely&appid="+s;function L(){console.log("city searched: ",document.getElementById("cityInput").value);var e=document.getElementById("cityInput").value;m(e),v(!1)}return Object(n.useEffect)((function(){c.length>0&&fetch(T).then((function(e){return e.json()})).then((function(e){console.log(e),404!==e.cod&&(C(""),v(!1)),p(e.name),g(e.sys.country),j({lat:e.coord.lat,lon:e.coord.lon})})).catch((function(e){return C("Please enter a valid city name")}))}),[c]),Object(n.useEffect)((function(){c.length>0&&""!==k.lat&&""!==k.lon&&""===_&&fetch(W).then((function(e){return e.json()})).then((function(e){console.log("full data: ",e),I(e)})).catch((function(e){return console.log(e)}))}),[k]),Object(n.useEffect)((function(){""!==_&&v(!0),b&&document.getElementById("cityInput").addEventListener("keydown",(function(e){13===e.keyCode&&L()}))}),[_,b]),l.a.createElement(o,{value:{modalOpen:b,openModal:function(){v(!0)},closeModal:L,finalCity:h,country:y,weatherData:R,error:_}},a)},u=function(e){var a=Object(n.useContext)(m);if(0===Object.keys(a.weatherData).length||""!==a.error)return l.a.createElement("div",{className:"top-container coldBackground"},l.a.createElement("div",{className:"text-block",style:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"}},l.a.createElement("h2",{className:"main-heading text-capitalize"}," Weather Up"),window.innerWidth<=450?l.a.createElement("span",{className:"locationBtn",onClick:function(){return a.openModal()}},l.a.createElement("i",{className:"fas fa-search-location"})):l.a.createElement("button",{className:"btn btn-outline-light locationBtn",onClick:function(){return a.openModal()}},"Select Location"),l.a.createElement("div",{className:"row weatherRow"},l.a.createElement("p",null,"A simple app to display current weather and daily forecast for 3 days."))));var t="http://openweathermap.org/img/wn/"+a.weatherData.current.weather[0].icon+"@2x.png";return l.a.createElement("div",{className:a.weatherData.current.temp<18?"top-container coldBackground":"top-container hotBackground"},l.a.createElement("div",{className:"text-block",style:{display:"flex",alignItems:"center",flexDirection:"column"}},l.a.createElement("h2",{className:"main-heading text-capitalize"},a.finalCity,", ",a.country),window.innerWidth<=450?l.a.createElement("span",{className:"locationBtn",onClick:function(){return a.openModal()}},l.a.createElement("i",{className:"fas fa-search-location"})):l.a.createElement("button",{className:"btn btn-outline-light locationBtn",onClick:function(){return a.openModal()}},"Select Location"),l.a.createElement("div",{className:"row weatherRow"},l.a.createElement("div",{className:"col-auto"},l.a.createElement("img",{src:t,alt:"weather clipart",className:"weather-clipart"})),l.a.createElement("div",{className:"col-auto"},l.a.createElement("h3",null," ",Math.round(a.weatherData.current.temp),"\xb0C"))),l.a.createElement("p",{className:"text-capitalize"},l.a.createElement("b",null,a.weatherData.current.weather[0].description))))},h=function(e){var a=Object(n.useContext)(m);return 0===Object.keys(a.weatherData).length||""!==a.error?l.a.createElement("div",{className:"bottom-container coldBackgroundBottom"},l.a.createElement("div",{className:"text-block",style:{padding:"15px 20px 20px 20px"}},l.a.createElement("h3",{className:"card-title"},"Details"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("i",{className:"fas fa-temperature-low",style:{paddingRight:"2%"}})," ",l.a.createElement("b",null,"Feels like: ")," ",l.a.createElement("span",{style:{paddingLeft:"2%"}},"___")),l.a.createElement("div",{className:"col"},l.a.createElement("i",{className:"fas fa-tint",style:{paddingRight:"2%"}})," ",l.a.createElement("b",null,"Humidity: ")," ",l.a.createElement("span",{style:{paddingLeft:"2%"}},"___"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("i",{className:"fas fa-tachometer-alt",style:{paddingRight:"2%"}})," ",l.a.createElement("b",null,"Pressure: ")," ",l.a.createElement("span",{style:{paddingLeft:"2%"}},"___")),l.a.createElement("div",{className:"col"},l.a.createElement("i",{className:"fas fa-wind",style:{paddingRight:"2%"}})," ",l.a.createElement("b",null,"Wind Speed: ")," ",l.a.createElement("span",{style:{paddingLeft:"2%"}},"___"))))):l.a.createElement("div",{className:a.weatherData.current.temp<18?"bottom-container coldBackgroundBottom":"bottom-container hotBackgroundBottom"},l.a.createElement("div",{className:"text-block",style:{padding:"15px 20px 20px 20px",position:"relative"}},l.a.createElement("h3",{className:"card-title"},"Details"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("i",{className:"fas fa-temperature-low",style:{paddingRight:"2%"}})," ",l.a.createElement("b",null,"Feels like: ")," ",Math.round(a.weatherData.current.feels_like),"\xb0C"),l.a.createElement("div",{className:"col"},l.a.createElement("i",{className:"fas fa-tint",style:{paddingRight:"2%"}})," ",l.a.createElement("b",null,"Humidity: ")," ",a.weatherData.current.humidity,"%")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("i",{className:"fas fa-tachometer-alt",style:{paddingRight:"2%"}})," ",l.a.createElement("b",null,"Pressure: ")," ",a.weatherData.current.pressure," hPa"),l.a.createElement("div",{className:"col"},l.a.createElement("i",{className:"fas fa-wind",style:{paddingRight:"2%"}})," ",l.a.createElement("b",null,"Wind Speed: ")," ",Math.round(10*a.weatherData.current.wind_speed)/10," m/s ",l.a.createElement("i",{className:"fas fa-arrow-up windDegIcon",style:{transform:"rotate("+a.weatherData.current.wind_deg+"deg)",right:a.weatherData.current.wind_deg>180?"13%":"12%"}})))))},p=function(e){var a=Object(n.useContext)(m);return 0===Object.keys(a.weatherData).length?l.a.createElement("div",{className:"col mb-2"},l.a.createElement("div",{className:"card forcastCard"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},e.heading),l.a.createElement("p",null,l.a.createElement("b",null,"Max/Min: ")," ___"),l.a.createElement("p",null,l.a.createElement("b",null,"Humidity: ")," ___"),l.a.createElement("p",null,l.a.createElement("b",null,"Wind Speed: ")," ___")))):l.a.createElement("div",{className:"col mb-2"},l.a.createElement("div",{className:"card forcastCard"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},e.heading),l.a.createElement("div",{className:"row weatherRow"},l.a.createElement("div",{className:"col-auto"},l.a.createElement("img",{src:e.img,alt:"clipart",className:"forcast-weather-clipart"})),l.a.createElement("div",{className:"col-auto weatherDetailCol"},l.a.createElement("h5",null,e.weatherDetail))),l.a.createElement("p",null,l.a.createElement("b",null,"Max/Min: "),e.maxTemp,"\xb0C/",e.minTemp,"\xb0C"),l.a.createElement("p",null,l.a.createElement("b",null,"Humidity: "),e.humidity,"%"),l.a.createElement("p",null,l.a.createElement("b",null,"Wind Speed: "),e.windSpeed," m/s"))))},E=function(e){var a=Object(n.useContext)(m),t=["Sunday","Monday","Tuesday","Wednesday ","Thursday","Friday","Saturday"],r=(new Date).getDay();return 0===Object.keys(a.weatherData).length||""!==a.error?l.a.createElement("div",{className:"middle-container coldBackgroundMiddle"},l.a.createElement("div",{className:"row row-cols-3 row-cols-md-3",style:{padding:"5px"}})):l.a.createElement("div",{className:a.weatherData.current.temp<18?"middle-container coldBackgroundMiddle":"middle-container hotBackgroundMiddle"},l.a.createElement("div",{className:"row row-cols-1 row-cols-md-3"},l.a.createElement(p,{heading:"Tomorrow",img:"http://openweathermap.org/img/wn/"+a.weatherData.daily[1].weather[0].icon+".png",weatherDetail:a.weatherData.daily[1].weather[0].main,maxTemp:Math.round(a.weatherData.daily[1].temp.max),minTemp:Math.round(a.weatherData.daily[1].temp.min),humidity:a.weatherData.daily[1].humidity,windSpeed:Math.round(a.weatherData.daily[1].wind_speed)}),l.a.createElement(p,{heading:t[r+2],img:"http://openweathermap.org/img/wn/"+a.weatherData.daily[2].weather[0].icon+".png",weatherDetail:a.weatherData.daily[2].weather[0].main,maxTemp:Math.round(a.weatherData.daily[2].temp.max),minTemp:Math.round(a.weatherData.daily[2].temp.min),humidity:a.weatherData.daily[2].humidity,windSpeed:Math.round(a.weatherData.daily[2].wind_speed)}),l.a.createElement(p,{heading:t[r+3],img:"http://openweathermap.org/img/wn/"+a.weatherData.daily[3].weather[0].icon+".png",weatherDetail:a.weatherData.daily[3].weather[0].main,maxTemp:Math.round(a.weatherData.daily[3].temp.max),minTemp:Math.round(a.weatherData.daily[3].temp.min),humidity:a.weatherData.daily[3].humidity,windSpeed:Math.round(a.weatherData.daily[3].wind_speed)})))},w=function(e){var a=Object(n.useContext)(m);return a.modalOpen||""!==a.error?l.a.createElement("div",{className:"modalContainer"},l.a.createElement("div",{className:"row mainModalRow"},l.a.createElement("div",{className:"col-10 col-md-8 mx-auto p-4 text-center text-capitalize",id:"modal"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-10"},l.a.createElement("input",{type:"text",className:"form-control",id:"cityInput",autoFocus:!0,placeholder:"Search City"})),l.a.createElement("div",{className:"col-auto searchIconCol",onClick:function(){return a.closeModal()}},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-search"})))),l.a.createElement("div",{className:""===a.error?"row errorRow":"row errorRow show"},l.a.createElement("p",null,a.error)),l.a.createElement("div",{className:"instructionContainer"},l.a.createElement("div",{className:"row instructionRow"},l.a.createElement("p",null,"If you do not get desired result, add country code after using comma.",l.a.createElement("br",null),l.a.createElement("b",null,"Example: "),"Delhi,IN; New York,US")))))):null};var y=function(){return l.a.createElement("div",{className:"main-container"},l.a.createElement(u,null),l.a.createElement(E,null),l.a.createElement(h,null),l.a.createElement(w,null))};c.a.render(l.a.createElement(d,null,l.a.createElement(y,null)),document.getElementById("root"))},4:function(e,a,t){e.exports=t(10)},9:function(e,a,t){}},[[4,1,2]]]);
//# sourceMappingURL=main.8e9ffad7.chunk.js.map